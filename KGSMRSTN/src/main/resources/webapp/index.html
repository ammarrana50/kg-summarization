<!DOCTYPE html>
<html lang="en">
<head>
	<title>Knowledge Graph</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
<!--===============================================================================================-->	
	<link rel="apple-touch-icon" sizes="180x180" href="includes/images/icons/favicon/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="includes/images/icons/favicon/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="includes/images/icons/favicon/favicon-16x16.png">
	<link rel="manifest" href="/site.webmanifest">
	<meta name="msapplication-TileColor" content="#da532c">
	<meta name="theme-color" content="#ffffff">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="includes/vendor/bootstrap/css/bootstrap.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="includes/fonts/font-awesome-4.7.0/css/font-awesome.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="includes/fonts/iconic/css/material-design-iconic-font.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="includes/css/util.css">
	<link rel="stylesheet" type="text/css" href="includes/css/main.css">
<!--===============================================================================================-->
</head>
<body>
	
	<div class="limiter">
		<div class="container-login100" style="background-image: url('includes/images/kg_bg.png');">
			<div class="wrap-login100 p-l-55 p-r-55 p-t-65 p-b-54">
				<form id="search_form" class="login100-form validate-form">
					<span class="login100-form-title p-b-49">
						Knowledge Graph
					</span>
					<span class="login100-form-subtitle">
						Summarization
					</span>

					<div class="wrap-input100 validate-input m-b-23" data-validate = "Username is reauired">
						<span class="label-input100">Choose A Class</span>						
						<select style="border:none;" class="input100" name="domain_class" id="domain_class" required>
							<option value="star">Person</option>
							<option value="hybrid">Place</option>
							<option value="path">Organization</option>
						  </select>
					</div>

					<div class="wrap-input100 validate-input" data-validate="Password is required">
						<span class="label-input100">Max Enteries</span>
						<input class="input100" type="number" name="max_enteries" id="max_enteries" required  min="0" step="1" placeholder="">
					</div>

					<div class="wrap-input100 validate-input m-b-23" data-validate = "Username is reauired">
						<span class="label-input100">Type</span>
						<input style="color: grey !important;" class="input100" type="text" name="type" id="type" value="Simple" disabled>
					</div>
					
					<div class="container-login100-form-btn">
							<button type="submit" id="btn_search" class="login100-form-btn">
								Search
							</button>
					</div>
				</form>
			</div>
		</div>
	</div>
	<div id="overlay">
		<div class="cv-spinner">
			<span class="spinner"></span>
		</div>
	</div>
	
<!--===============================================================================================-->
	<script src="includes/vendor/jquery/jquery-3.2.1.min.js"></script>
	<script>
		$(document).ready(function() {
			$(document).ajaxSend(function() {
				$("#overlay").fadeIn(300);ã€€
			});
			$( "#search_form" ).submit(function( event ) {
  				event.preventDefault();
				var domainClass = $("#domain_class").val();
				var maxEnteries = $("#max_enteries").val();
				// var type = $("#type").val();
				var type = "simple";
				var url =
					"http://localhost:8082/kg/kgraph/type/" +
					type +
					"/class/" +
					domainClass +
					"/top/" +
					maxEnteries;

				console.log(url);
				$.ajax({
					url: url,
					dataType: "JSONP",
					jsonpCallback: "callback",
					type: "GET",
					success: function(data) {
					if (data.status) {
						var win = window.open("results.html");
					}
					}
				}).done(function() {
					setTimeout(function(){
						$("#overlay").fadeOut(300);
					},500);
				});
			});
		});
	</script>

</body>
</html>